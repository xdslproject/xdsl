import shutil

config.substitutions.append(('MLIR_ROUNDTRIP', "xdsl-opt %s | mlir-opt --allow-unregistered-dialect | xdsl-opt | filecheck %s"))
config.substitutions.append(("MLIR_GENERIC_ROUNDTRIP", "xdsl-opt %s --print-op-generic | mlir-opt --mlir-print-op-generic --allow-unregistered-dialect --mlir-print-local-scope | xdsl-opt | filecheck %s"))

if not shutil.which("mlir-opt"):
    config.unsupported = True
